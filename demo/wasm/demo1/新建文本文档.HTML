<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title>WASM Test</title>
  </head>

  <body>
    <script>
      let fs = require('fs')
      let wasmcode = fs.readFileSync('Wasm (2).wasm')

      function aa(page){
        WebAssembly.instantiate(wasmcode,{
          "env":{},
          "wasi_snapshot_preview1":{}
        }).then(reult =>{
          var instance = reult.instance
          var wasm_func= instance.exports
          res =wasm_func.encrypt(20,parseInt(Math.round((new Date).getTime() / 1e3).toString()))
          console.log(res)
        })
      }
      aa(process.argv[2])
    </script>

    <Script>

      txt = "<p>浏览器代号: " + navigator.appCodeName + "</p>";
      txt+= "<p>浏览器名称: " + navigator.appName + "</p>";
      txt+= "<p>浏览器版本: " + navigator.appVersion + "</p>";
      txt+= "<p>启用Cookies: " + navigator.cookieEnabled + "</p>";
      txt+= "<p>硬件平台: " + navigator.platform + "</p>";
      txt+= "<p>用户代理: " + navigator.userAgent + "</p>";
      txt+= "<p>用户代理语言: " + navigator.language + "</p>";
      document.write(txt);

    </Script>
  </body>
</html>